var Fisarmonica=function(e){var a={},i=Object.assign({keepPanelsOpen:!1,selector:"[data-fisarmonica]"},e),o="js-is-hidden",s="js-focus",c=document.querySelector(i.selector);function t(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",r=t.length,n=0;n<8;n++)e+=t.charAt(Math.floor(Math.random()*r));return e}a.open=function(e){return n(e,"open")},a.close=function(e){return n(e,"close")},a.disable=function(e){return n(e,"disable")},a.enable=function(e){return n(e,"enable")};function r(e){if(e.target.matches("button")){var t=c.querySelectorAll("button"),r=Array.from(t).indexOf(e.target);if(!i.keepPanelsOpen){var n=Array.apply(null,Array(t.length)).map(function(e,t){return t}).filter(function(e){return e!==r});a.close(n)}"false"===e.target.getAttribute("aria-expanded")?a.open([r]):a.close([r]),c.classList.add(s),e.preventDefault()}}var n=function(r,n){Array.from(c.querySelectorAll("dd")).forEach(function(e,t){"open"===n?r?r.includes(t)&&e.classList.remove(o):e.classList.remove(o):"close"===n&&(r?r.includes(t)&&e.classList.add(o):e.classList.add(o))}),Array.from(c.querySelectorAll("button")).forEach(function(e,t){"open"===n?r?r.includes(t)&&(e.setAttribute("aria-expanded",!0),1===r.length&&e.focus()):e.setAttribute("aria-expanded",!0):"close"===n?r?r.includes(t)&&e.setAttribute("aria-expanded",!1):e.setAttribute("aria-expanded",!1):"disable"===n?r?r.includes(t)&&e.setAttribute("disabled",!0):e.setAttribute("disabled",!0):"enable"===n&&(r?r.includes(t)&&e.removeAttribute("disabled"):e.removeAttribute("disabled"))})};return c?(a.close(),function(){c.classList.add("fisarmonica");var r=t(),n=t();Array.from(c.querySelectorAll("button")).forEach(function(e,t){e.setAttribute("aria-controls","fisarmonica-content-"+r+"-"+t),e.setAttribute("id","fisarmonica-content-"+n+"-"+t)}),Array.from(c.querySelectorAll("dd")).forEach(function(e,t){e.setAttribute("id","fisarmonica-content-"+r+"-"+t),e.setAttribute("aria-labelledby","fisarmonica-content-"+n+"-"+t)})}(),function(){if(i.theme)for(var e in i.theme)c.style.setProperty("--"+e,i.theme[e])}(),Array.from(c.querySelectorAll("button")).forEach(function(e){e.addEventListener("focus",function(){c.classList.add(s)}),e.addEventListener("blur",function(){c.classList.remove(s)})}),c.addEventListener("click",r,!1)):console.warn("Cannot find an fisarmonica with class"+i.selector),a};